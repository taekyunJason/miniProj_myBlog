<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Webpage Title -->
  <title>ì„¸ìƒì„ ë°”ê¾¸ëŠ” ìƒê° | ì”½í¬íƒ±í¬</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" />

  <!-- Bulma CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css" />
  <!-- Font Awesome CSS -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  <!-- <link
      href="{{ url_for('static', filename='mystyle.css') }}"
      rel="stylesheet"
    /> -->

  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet" />

  <style>
    * {
      font-family: "Gowun Dodum", sans-serif;
    }

    .navbar-brand {
      width: 100%;
      height: 200px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .navbar-brand>button {
      margin-top: 30px;
      width: 200px;
      height: 50px;

      background-color: transparent;
      color: white;

      border-radius: 50px;
      border: 1px solid white;

      margin-top: 10px;
    }

    .navbar-brand>button:hover {
      border: 3px solid white;
    }

    .fotter {
      position: relative;
      text-align: center;
    }
  </style>
  <script>
    $(document).ready(function () {
      callPostList();
    });

    function callPostList() {
      $.ajax({
        type: "GET",
        url: "/thinkTank/main",
        contentType: "application/json",
        data: {},

        success: function (response) {
          let rows = response;
          console.log(rows);
          for (let i = rows.length - 1; i >= 0; i--) {
            let title = rows[i]["title"];
            let postId = rows[i]["postId"];
            let name = rows[i]["name"];
            let password = rows[i]["password"];
            let date = rows[i]["date"];
            let content = rows[i]["content"];

            let temp_html = `<tr>
                                <td class="tg-0pky" onClick="location.href='/thinkTank/detailPost/show?postId=${postId}'">${title}</td>
                                <td class="tg-0pky">${name}</td>
                                <td class="tg-0pky">${date}</td>
                              </tr>`;
            $("#postDetail").append(temp_html);
          }
        },
      });
    }

    function moveToWritePost() {
      document.location.href = "/thinkTank/write";
    }


  </script>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid" style="flex-direction: column;">
      <a class="navbar-brand" href="/thinkTank">ì„¸ìƒì„ ë°”ê¾¸ëŠ” ìƒê°, ì”½í¬íƒ±í¬â—ğŸ’¬</a>
      <a class="nav-link" href="/thinkTank/write">í¬ìŠ¤íŠ¸ í•˜ëŸ¬ê°€ê¸°</a>
    </div>
  </nav>

  <table class="table">
    <thead>
      <tr>
        <th scope="col">Title</th>
        <th scope="col">Name</th>
        <th scope="col">Date</th>
      </tr>
    </thead>
    <tbody id="postDetail">
    </tbody>
  </table>

  <footer class="footer mt-auto py-3 bg-light">
    <div class="container" style="text-align: center;">
      <span class="text-muted"><strong style="color: #d7a524">â›µ hanghae99 </strong> by
        <strong class="has-text-link-dark">Jason_Kim </strong>|
        <strong class="has-text-link-dark">Project : </strong> ì„¸ìƒì„ ë°”ê¾¸ëŠ”
        ìƒê°, ì”½í¬íƒ±í¬ | <strong class="has-text-link-dark">Dev.</strong>
        ê¹€íƒœê· </span>
    </div>
  </footer>

</body>

</html>